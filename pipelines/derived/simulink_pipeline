node{
    checkout scm
    env.PYTHON_ALIAS = 'python3'
    env.SOURCECODE_FOLDER = 'scm'
    env.DAG_RELATIVE_PATH = "pipelines/derived/ir_dag.json" 
    activity = load "$SOURCECODE_FOLDER/pipelines/templates/jenkins/activity.groovy" 
    activity.loadEnvVariables()
    
    activity.addStage('start')()
    activity.addParallelStages('Stage_2', [
        'br_padv_builtin_task_CollectMetrics_AHRS_Voter': {
            activity.addStage('padv_builtin_task_CollectMetrics_AHRS_Voter')()
        },
        'br_padv_builtin_task_CollectMetrics_Actuator_Control': {
            activity.addStage('padv_builtin_task_CollectMetrics_Actuator_Control')()
        },
        'br_padv_builtin_task_CollectMetrics_Flight_Control': {
            activity.addStage('padv_builtin_task_CollectMetrics_Flight_Control')()
        },
        'br_padv_builtin_task_CollectMetrics_InnerLoop_Control': {
            activity.addStage('padv_builtin_task_CollectMetrics_InnerLoop_Control')()
        },
        'br_padv_builtin_task_CollectMetrics_OuterLoop_Control': {
            activity.addStage('padv_builtin_task_CollectMetrics_OuterLoop_Control')()
        },
    ])()
    activity.addStage('end')()
    
}
