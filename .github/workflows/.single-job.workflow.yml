name: Single Job Workflow
on: # You must define at least one trigger for each workflow.
  workflow_dispatch: # Set manual triggers as the default trigger, while it is not intended to be activated manually.

jobs:
  start:
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: start

  #######################################################################
  #                 AHRS_Voter
  #######################################################################
  AHRS_Voter_Collect_Model_Maintainability_Metrics:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  AHRS_Voter_Generate_Simulink_Web_View:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  AHRS_Voter_Check_Modeling_Standards:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  AHRS_Voter_Find_Clones_Across_Model:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  AHRS_Voter_Find_Library_Clones:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  AHRS_Voter_Detect_Design_Errors:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  AHRS_Voter_Generate_Model_Comparison:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  AHRS_Voter_Generate_SDD_Report:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  AHRS_Voter_Run_Tests:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  AHRS_Voter_Merge_Test_Results:
    needs: AHRS_Voter_Run_Tests
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  AHRS_Voter_Collect_Model_Testing_Metrics:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  AHRS_Voter_Reference_Model_Code_Generation:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  AHRS_Voter_Ref_Model_Code_Proving:
    needs: AHRS_Voter_Reference_Model_Code_Generation
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  AHRS_Voter_Ref_Model_Code_Inspection:
    needs: AHRS_Voter_Reference_Model_Code_Generation
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  #######################################################################
  #                 Actuator_Control
  #######################################################################
  Actuator_Control_Collect_Model_Maintainability_Metrics:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Actuator_Control_Generate_Simulink_Web_View:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Actuator_Control_Check_Modeling_Standards:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Actuator_Control_Find_Clones_Across_Model:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Actuator_Control_Find_Library_Clones:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Actuator_Control_Detect_Design_Errors:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Actuator_Control_Generate_Model_Comparison:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Actuator_Control_Generate_SDD_Report:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Actuator_Control_Collect_Model_Testing_Metrics:
    needs: AHRS_Voter_Run_Tests
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Actuator_Control_Reference_Model_Code_Generation:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Actuator_Control_Ref_Model_Code_Proving:
    needs: Actuator_Control_Reference_Model_Code_Generation
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Actuator_Control_Ref_Model_Code_Inspection:
    needs: Actuator_Control_Reference_Model_Code_Generation
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  #######################################################################
  #                 Flight_Control
  #######################################################################
  Flight_Control_Collect_Model_Maintainability_Metrics:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Flight_Control_Generate_Simulink_Web_View:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Flight_Control_Check_Modeling_Standards:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Flight_Control_Find_Clones_Across_Model:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Flight_Control_Find_Library_Clones:
    needs: AHRS_Voter_Run_Tests
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Flight_Control_Detect_Design_Errors:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Flight_Control_Generate_Model_Comparison:
    needs: Actuator_Control_Reference_Model_Code_Generation
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Flight_Control_Generate_SDD_Report:
    needs: Actuator_Control_Reference_Model_Code_Generation
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  #######################################################################
  #                 InnerLoop_Control
  #######################################################################
  InnerLoop_Control_Collect_Model_Maintainability_Metrics:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  InnerLoop_Control_Generate_Simulink_Web_View:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  InnerLoop_Control_Check_Modeling_Standards:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  InnerLoop_Control_Find_Clones_Across_Model:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  InnerLoop_Control_Find_Library_Clones:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  InnerLoop_Control_Detect_Design_Errors:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  InnerLoop_Control_Generate_Model_Comparison:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  InnerLoop_Control_Generate_SDD_Report:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  InnerLoop_Control_Collect_Model_Testing_Metrics:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  InnerLoop_Control_Reference_Model_Code_Generation:
    needs: AHRS_Voter_Run_Tests
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  InnerLoop_Control_Ref_Model_Code_Proving:
    needs: InnerLoop_Control_Reference_Model_Code_Generation
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  InnerLoop_Control_Ref_Model_Code_Inspection:
    needs: InnerLoop_Control_Reference_Model_Code_Generation
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  #######################################################################
  #                 OuterLoop_Control
  #######################################################################
  OuterLoop_Control_Collect_Model_Maintainability_Metrics:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  OuterLoop_Control_Generate_Simulink_Web_View:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  OuterLoop_Control_Check_Modeling_Standards:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  OuterLoop_Control_Find_Clones_Across_Model:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  OuterLoop_Control_Find_Library_Clones:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  OuterLoop_Control_Detect_Design_Errors:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  OuterLoop_Control_Generate_Model_Comparison:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  OuterLoop_Control_Generate_SDD_Report:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  OuterLoop_Control_Run_Tests:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  OuterLoop_Control_Merge_Test_Results:
    needs: OuterLoop_Control_Run_Tests
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  OuterLoop_Control_Collect_Model_Testing_Metrics:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  OuterLoop_Control_Reference_Model_Code_Generation:
    needs: AHRS_Voter_Run_Tests
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  OuterLoop_Control_Ref_Model_Code_Proving:
    needs: OuterLoop_Control_Reference_Model_Code_Generation
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  OuterLoop_Control_Ref_Model_Code_Inspection:
    needs: OuterLoop_Control_Reference_Model_Code_Generation
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  #######################################################################
  #                 Merging Code Generation
  #######################################################################
  Merging_Code_Generation:
    needs:
      [
        AHRS_Voter_Reference_Model_Code_Generation,
        Actuator_Control_Reference_Model_Code_Generation,
        InnerLoop_Control_Reference_Model_Code_Generation,
        OuterLoop_Control_Reference_Model_Code_Generation,
      ]
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  #######################################################################
  #                 Top Model tasks 
  #######################################################################
  Top_Model_Code_Generation:
    needs: Merging_Code_Generation
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Top_Model_Code_Analysis:
    needs: Merging_Code_Generation
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Top_Model_Code_Proving:
    needs: Merging_Code_Generation
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Top_Model_Code_Inspection:
    needs: Merging_Code_Generation
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}
  #######################################################################
  #                 Generate_requirements_report
  #######################################################################
  Generate_requirements_report_HighLevelReqs:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}

  Generate_requirements_report_SystemReqs:
    needs: start
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}
  #######################################################################
  #                 end
  #######################################################################
  end:
    needs:
      [
        AHRS_Voter_Collect_Model_Maintainability_Metrics,
        AHRS_Voter_Generate_Simulink_Web_View,
        AHRS_Voter_Check_Modeling_Standards,
        AHRS_Voter_Find_Clones_Across_Model,
        AHRS_Voter_Find_Library_Clones,
        AHRS_Voter_Detect_Design_Errors,
        AHRS_Voter_Generate_Model_Comparison,
        AHRS_Voter_Generate_SDD_Report,
        AHRS_Voter_Merge_Test_Results,
        AHRS_Voter_Collect_Model_Testing_Metrics,
        AHRS_Voter_Ref_Model_Code_Proving,
        AHRS_Voter_Ref_Model_Code_Inspection,
        Actuator_Control_Collect_Model_Maintainability_Metrics,
        Actuator_Control_Generate_Simulink_Web_View,
        Actuator_Control_Check_Modeling_Standards,
        Actuator_Control_Find_Clones_Across_Model,
        Actuator_Control_Find_Library_Clones,
        Actuator_Control_Detect_Design_Errors,
        Actuator_Control_Generate_Model_Comparison,
        Actuator_Control_Generate_SDD_Report,
        Actuator_Control_Collect_Model_Testing_Metrics,
        Actuator_Control_Ref_Model_Code_Proving,
        Actuator_Control_Ref_Model_Code_Inspection,
        Flight_Control_Collect_Model_Maintainability_Metrics,
        Flight_Control_Generate_Simulink_Web_View,
        Flight_Control_Check_Modeling_Standards,
        Flight_Control_Find_Clones_Across_Model,
        Flight_Control_Find_Library_Clones,
        Flight_Control_Detect_Design_Errors,
        Flight_Control_Generate_Model_Comparison,
        Flight_Control_Generate_SDD_Report,
        InnerLoop_Control_Collect_Model_Maintainability_Metrics,
        InnerLoop_Control_Generate_Simulink_Web_View,
        InnerLoop_Control_Check_Modeling_Standards,
        InnerLoop_Control_Find_Clones_Across_Model,
        InnerLoop_Control_Find_Library_Clones,
        InnerLoop_Control_Detect_Design_Errors,
        InnerLoop_Control_Generate_Model_Comparison,
        InnerLoop_Control_Generate_SDD_Report,
        InnerLoop_Control_Collect_Model_Testing_Metrics,
        InnerLoop_Control_Ref_Model_Code_Proving,
        InnerLoop_Control_Ref_Model_Code_Inspection,
        OuterLoop_Control_Collect_Model_Maintainability_Metrics,
        OuterLoop_Control_Generate_Simulink_Web_View,
        OuterLoop_Control_Check_Modeling_Standards,
        OuterLoop_Control_Find_Clones_Across_Model,
        OuterLoop_Control_Find_Library_Clones,
        OuterLoop_Control_Detect_Design_Errors,
        OuterLoop_Control_Generate_Model_Comparison,
        OuterLoop_Control_Generate_SDD_Report,
        OuterLoop_Control_Merge_Test_Results,
        OuterLoop_Control_Collect_Model_Testing_Metrics,
        OuterLoop_Control_Ref_Model_Code_Proving,
        OuterLoop_Control_Ref_Model_Code_Inspection,
        Top_Model_Code_Generation,
        Top_Model_Code_Analysis,
        Top_Model_Code_Proving,
        Top_Model_Code_Proving,
        Top_Model_Code_Inspection,
        Generate_requirements_report_HighLevelReqs,
        Generate_requirements_report_SystemReqs,
      ]
    if: (vars.CONTINUE_ON_ERROR == 'true' || !failure()) && !cancelled()
    uses: ./.github/workflows/generic-job.yml
    with:
      job-name: ${{github.job}}
